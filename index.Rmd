---
title: "Nick Strayer's CV"
author: Nick Strayer
date: "`r Sys.Date()`"
output:
  pagedown::html_resume:
    css: ['css/styles.css', 'resume']
    # set it to true for a self-contained HTML page but it'll take longer to render
    self_contained: true
---

```{r, include=FALSE}
knitr::opts_chunk$set(
  results='asis', 
  echo = FALSE
)

library(glue)
library(tidyverse)

# Set this to true to have links turned into footnotes at the end of the document
PDF_EXPORT <- FALSE

# Holds all the links that were inserted for placement at the end
links <- c()

source('parsing_functions.R')


# Takes a single row of dataframe corresponding to a position
# turns it into markdown, and prints the result to console.
# build_position_from_df <- function(pos_df){
#   
#   missing_start <- pos_df$start == 'N/A'
#   dates_same <- pos_df$end == pos_df$start
#   
#   if(any(c(missing_start,dates_same))){
#     timeline <- pos_df$end
#   } else {
#     timeline <- glue('{pos_df$end} - {pos_df$start}')
#   }
#   
#   descriptions <- pos_df[str_detect(names(pos_df), 'description')] %>% 
#     as.list() %>% 
#     map_chr(sanitize_links)
#   
#   # Make sure we only keep filled in descriptions
#   description_bullets <- paste('-', descriptions[descriptions != 'N/A'], collapse = '\n')
#   
#   glue(
#     "### {sanitize_links(pos_df$title)}
# 
# {pos_df$loc}
# 
# {pos_df$institution}
# 
# {timeline}
# 
# {description_bullets}
# 
# 
# "
#   ) %>% print()
# }
# 
# # Takes nested position data and a given section id 
# # and prints all the positions in that section to console
# print_section <- function(position_data, section_id){
#   position_data %>% 
#     filter(section == section_id) %>% 
#     mutate(id = 1:n()) %>% 
#     mutate_all(fill_nas) %>% 
#     arrange(desc(end)) %>% 
#     nest(data = c(-id, -section)) %>% 
#     pull(data) %>% 
#     purrr::walk(build_position_from_df)
# }

print_section <- function(position_data, section_id){
  position_data %>% 
  filter(section == section_id) %>% 
  mutate(id = 1:n()) %>% 
  pivot_longer(
    starts_with('description'),
    names_to = 'description_num',
    values_to = 'description',
    values_drop_na = TRUE
  ) %>% 
  group_by(id) %>% 
  mutate(
    descriptions = list(description)
  ) %>% 
  ungroup() %>% 
  filter(description_num == 'description_1') %>% 
  mutate(
    timeline = ifelse(
      is.na(start) | start == end,
      end,
      glue('{end} - {start}')
    ),
    description_bullets = map_chr(descriptions, ~paste('-', ., collapse = '\n'))
  ) %>% 
  mutate_all(~ifelse(is.na(.), 'N/A', .)) %>% 
  glue_data(
    "### {title}",
    "\n\n",
    "{loc}",
    "\n\n",
    "{institution}",
     "\n\n",
    "{timeline}", 
     "\n\n",
    "{description_bullets}",
     "\n\n\n",
  )
}


# Load csv with position info
position_data <- read_csv('positions.csv') %>% 
  arrange(desc(end))
```


```{r}
# When in export mode the little dots are unaligned, so fix that. 
if(PDF_EXPORT){
  cat("
  <style>
  :root{
    --decorator-outer-offset-left: -6.5px;
  }
  </style>")
}
```


Aside
================================================================================


![logo](beta_dist.png){width=100%}

```{r}
# When in export mode the little dots are unaligned, so fix that. 
if(PDF_EXPORT){
  cat("View this CV online with links at _nickstrayer.me/cv_")
}
```

Contact {#contact}
--------------------------------------------------------------------------------


- <i class="fa fa-envelope"></i> nick.strayer@gmail.com
- <i class="fa fa-twitter"></i> NicholasStrayer
- <i class="fa fa-github"></i> github.com/nstrayer
- <i class="fa fa-link"></i> [nickstrayer.me](http://nickstrayer.me/)
- <i class="fa fa-phone"></i> (734) 645-0110



Skills {#skills}
--------------------------------------------------------------------------------


Highly experienced in


- R 
- Python
- Javascript

Experience with


- Bash
- SQL
- C++
- AWK


Disclaimer {#disclaimer}
--------------------------------------------------------------------------------

Made with the R package [**pagedown**](https://github.com/rstudio/pagedown). 

The source code is available at [github.com/nstrayer/cv](https://github.com/nstrayer/cv).

Last updated on `r Sys.Date()`.



Main
================================================================================

Nick Strayer {#title}
--------------------------------------------------------------------------------


```{r}
intro_text <- "I have made [visualizations viewed by hundreds of thousands of people](https://www.nytimes.com/interactive/2016/08/26/us/college-student-migration.html), [sped up query times for 25 terabytes of data by an average of 4,800 times](https://livefreeordichotomize.com/2019/06/04/using_awk_and_r_to_parse_25tb/), and built [packages for R](https://github.com/nstrayer/shinysense) that let you [do magic](http://nickstrayer.me/dataDayTexas/).

Currently searching for a data science position that allows me to build tools using visualization and machine learning to help people explore and understand their data. 
"

cat(sanitize_links(intro_text))
```



Education {data-icon=graduation-cap data-concise=true}
--------------------------------------------------------------------------------

```{r}
print_section(position_data, 'education')
```



Research Experience {data-icon=laptop}
--------------------------------------------------------------------------------

```{r}
print_section(position_data, 'research_positions')
```



Industry Experience {data-icon=suitcase}
--------------------------------------------------------------------------------

::: aside
I have worked in a variety of roles ranging from journalist to software engineer to data scientist. I like collaborative environments where I can learn from my peers. 
:::

```{r}
print_section(position_data, 'industry_positions')
```

<br>
<br>
<br>

Teaching Experience {data-icon=chalkboard-teacher}
--------------------------------------------------------------------------------

::: aside
I am passionate about education. I believe that no topic is too complex if the teacher is empathetic and willing to think about new methods of approaching task. 
:::

```{r}
print_section(position_data, 'teaching_positions')
```


Selected Data Science Writing {data-icon=chart-line}
--------------------------------------------------------------------------------


::: aside
I regularly blog about data science and visualization on my blog [LiveFreeOrDichotomize.](https://livefreeordichotomize.com/)
:::

```{r}
print_section(position_data, 'data_science_writings')
```



Selected Press (About)  {data-icon=newspaper}
--------------------------------------------------------------------------------

```{r}
print_section(position_data, 'about_me_press')
```



Selected Press (By)  {data-icon=newspaper}
--------------------------------------------------------------------------------

```{r}
print_section(position_data, 'by_me_press')
```




Selected Publications, Posters, and Talks {data-icon=book}
--------------------------------------------------------------------------------

```{r}
print_section(position_data, 'academic_articles')
```



```{r}
if(PDF_EXPORT){
  cat("
  
Links {data-icon=link}
--------------------------------------------------------------------------------

<br>


")
  
  walk2(links, 1:length(links), function(link, index){
    print(glue('{index}. {link}'))
  })
}
```


